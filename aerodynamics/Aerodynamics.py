# -*- coding: utf-8 -*-
"""
Created on Thu Mar 28 09:01:39 2019

@author: lbrevaul
"""

from __future__ import print_function
import numpy as np
from openmdao.api import ExplicitComponent
import sys
sys.path.append(r'../')


class Aerodynamics_Comp(ExplicitComponent):
    def setup(self):
        ###Inputs definition
        
        #No inputs here

        ###Output definition        
        self.add_output('Table_CX_complete_ascent' ,val=np.ones((20,15)),  desc = 'Cx table - stage 1')
        self.add_output('Mach_table' ,val=np.ones(20),  desc = 'Mach table - stage 1')
        self.add_output('AoA_table' ,val=np.ones(15),  desc = 'Angle of attack table - stage 1')
        self.add_output('CX_fallout_stage_1' ,val=1.5,  desc = 'CX coefficient for fallout')
        self.add_output('CZ_fallout_stage_1' ,val=0.15,  desc = 'CZ coefficient for fallout')
    def compute(self, inputs, outputs):

        Mach_table = np.array([0.3,0.4,0.5,0.6,0.7,0.8,0.85,0.9,0.95,1.0,1.15,1.25,1.5,2.0,3.0,4.0,5.0,6.0,7.0,8.0])
        outputs['Mach_table'] = Mach_table
        
        outputs['AoA_table'] = np.linspace(0.,20.,15)
        
        
        outputs['CX_fallout_stage_1'] =1.5
        outputs['CZ_fallout_stage_1']=0.15 
    
    
        outputs['Table_CX_complete_ascent'] = np.array([[0.1647  , 0.087105, 0.096742, 0.10708 , 0.11763 , 0.12812 ,
        0.1381  , 0.14722 , 0.15515 , 0.16159 , 0.16627 , 0.16891 ,
        0.16935 , 0.16734 , 0.16272 ],
       [0.16272 , 0.086672, 0.096309, 0.10665 , 0.11719 , 0.12768 ,
        0.13766 , 0.14678 , 0.15472 , 0.16116 , 0.16583 , 0.16848 ,
        0.16891 , 0.16691 , 0.16229 ],
       [0.16229 , 0.086123, 0.09576 , 0.1061  , 0.11664 , 0.12713 ,
        0.13711 , 0.14623 , 0.15417 , 0.16061 , 0.16528 , 0.16793 ,
        0.16836 , 0.16636 , 0.16174 ],
       [0.16174 , 0.085465, 0.095103, 0.10544 , 0.11599 , 0.12648 ,
        0.13646 , 0.14558 , 0.15351 , 0.15995 , 0.16463 , 0.16727 ,
        0.16771 , 0.1657  , 0.16108 ],
       [0.16108 , 0.084549, 0.093728, 0.10335 , 0.11297 , 0.12233 ,
        0.13103 , 0.13875 , 0.14518 , 0.15006 , 0.15314 , 0.15418 ,
        0.15302 , 0.14944 , 0.14331 ],
       [0.14331 , 0.08352 , 0.092173, 0.10098 , 0.10951 , 0.11758 ,
        0.12481 , 0.13091 , 0.13563 , 0.13871 , 0.13995 , 0.13915 ,
        0.13614 , 0.13077 , 0.1229  ],
       [0.1229  , 0.082853, 0.090907, 0.098796, 0.10618 , 0.1129  ,
        0.11865 , 0.12321 , 0.12635 , 0.1279  , 0.12767 , 0.12554 ,
        0.12134 , 0.11497 , 0.10633 ],
       [0.10633 , 0.082218, 0.08982 , 0.097033, 0.10359 , 0.10936 ,
        0.11412 , 0.11768 , 0.11988 , 0.12056 , 0.11961 , 0.11692 ,
        0.11236 , 0.10586 , 0.097353],
       [0.097353, 0.082354, 0.090391, 0.097905, 0.10467 , 0.11063 ,
        0.11557 , 0.11936 , 0.12188 , 0.123   , 0.12263 , 0.12071 ,
        0.11713 , 0.11184 , 0.10479 ],
       [0.10479 , 0.1385  , 0.14786 , 0.15659 , 0.1645  , 0.17158 ,
        0.17764 , 0.18259 , 0.18632 , 0.18875 , 0.18979 , 0.1894  ,
        0.18752 , 0.18409 , 0.17909 ],
       [0.17909 , 0.25362 , 0.2689  , 0.28312 , 0.2961  , 0.30795 ,
        0.31849 , 0.32768 , 0.33545 , 0.34176 , 0.34657 , 0.34983 ,
        0.35157 , 0.35174 , 0.35033 ],
       [0.35033 , 0.26857 , 0.28417 , 0.29881 , 0.3123  , 0.32477 ,
        0.33604 , 0.34604 , 0.35473 , 0.36205 , 0.36796 , 0.3724  ,
        0.3754  , 0.37691 , 0.37692 ],
       [0.37692 , 0.26894 , 0.28319 , 0.29646 , 0.30866 , 0.31996 ,
        0.33028 , 0.33961 , 0.34797 , 0.35536 , 0.36179 , 0.36724 ,
        0.37179 , 0.37542 , 0.37815 ],
       [0.37815 , 0.24551 , 0.25656 , 0.2669  , 0.27649 , 0.28553 ,
        0.294   , 0.30192 , 0.30935 , 0.31633 , 0.32288 , 0.32901 ,
        0.33483 , 0.34033 , 0.34554 ],
       [0.34554 , 0.20926 , 0.21455 , 0.22006 , 0.22574 , 0.23168 ,
        0.23785 , 0.24424 , 0.25086 , 0.2577  , 0.26476 , 0.27198 ,
        0.27945 , 0.28713 , 0.295   ],
       [0.295   , 0.18949 , 0.19421 , 0.19922 , 0.20452 , 0.2102  ,
        0.21622 , 0.2226  , 0.22933 , 0.23644 , 0.24391 , 0.25169 ,
        0.25989 , 0.26844 , 0.27734 ],
       [0.27734 , 0.17709 , 0.18228 , 0.18793 , 0.19397 , 0.20051 ,
        0.20749 , 0.21491 , 0.22276 , 0.23103 , 0.23971 , 0.24872 ,
        0.25817 , 0.26798 , 0.27814 ],
       [0.27814 , 0.16715 , 0.17237 , 0.17837 , 0.18504 , 0.19246 ,
        0.20054 , 0.20924 , 0.21851 , 0.22833 , 0.23864 , 0.24933 ,
        0.26052 , 0.27208 , 0.28396 ],
       [0.28396 , 0.16015 , 0.16537 , 0.17137 , 0.17804 , 0.18546 ,
        0.19354 , 0.20224 , 0.21151 , 0.22133 , 0.23164 , 0.24233 ,
        0.25352 , 0.26507 , 0.27696 ],
       [0.27696 , 0.1548  , 0.16002 , 0.16601 , 0.17269 , 0.18011 ,
        0.18819 , 0.19688 , 0.20616 , 0.21597 , 0.22629 , 0.23698 ,
        0.24816 , 0.25972 , 0.27161 ]]) 


        
        

